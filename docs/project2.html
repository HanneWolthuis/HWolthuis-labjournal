<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Hanne Wolthuis" />


<title>Final project Methods</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="tweaks.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    My journal
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lab1.html">Week 1</a>
    </li>
    <li>
      <a href="lab2.html">Week 2</a>
    </li>
    <li>
      <a href="lab3.html">Week 3</a>
    </li>
    <li>
      <a href="lab4.html">Week 4</a>
    </li>
    <li>
      <a href="lab5.2.html">Week 5</a>
    </li>
    <li>
      <a href="lab6.html">Week 6</a>
    </li>
    <li>
      <a href="Lab7.html">Week 7</a>
    </li>
    <li>
      <a href="lab7.2.html">Week 7.2</a>
    </li>
    <li>
      <a href="Lab8.html">Week 8</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Final paper
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="project3.html">Introduction</a>
    </li>
    <li>
      <a href="project4.html">Theory and hypothesis </a>
    </li>
    <li>
      <a href="project2.html">Methods and analytical strategy</a>
    </li>
    <li>
      <a href="project5.html">Analysis and results </a>
    </li>
    <li>
      <a href="project7.html">Conclusion </a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/HanneWolthuis/HWolthuis-labjournal">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Final project Methods</h1>
<h4 class="author">Hanne Wolthuis</h4>

</div>


<p>Last compiled on oktober, 2025</p>
<p><br></p>
<hr />
<div id="data" class="section level1" number="1">
<h1><span class="header-section-number">1</span> <span
style="color: orange;"><strong>Data</strong></span></h1>
<p>The data used in this study originate from the OpenAlex database, an
open-access bibliographic catalogue containing metadata on scholarly
publications, authors, and institutional affiliations. The dataset was
pre-collected and provided as part of the course materials and includes
information on scholars affiliated with Dutch universities, such as
name, department, university of employment, and publication history. For
this study, a subset of scholars from the departments of Sociology and
Political Science at Radboud University (RU) and Utrecht University
(UU), University of Groningen (RUG) and Amsterdam (UvA) were selected.
This selection was made to allow for a focused comparison of
collaboration patterns within and between two closely related social
science disciplines. Co-authorship data were used to construct
longitudinal collaboration networks across three time periods, or
“waves,” covering 2015–2018, 2019–2023, and 2024–2025.</p>
<p><strong>Dependent variable</strong> The dependent variable in this
study captures the formation and persistence of collaboration ties
between scholars across two time periods. Collaboration is defined as
the co-authorship of at least one academic publication. The data were
structured as all an undirected network, where a tie between two
scholars indicates that they co-authored one or more publications during
a given time wave. I decided to include undirected ties between all
authors, meaning that every author on a publication is assumed to be
equally connected to every other author on that publication, regardless
of authorship order. I made this decision because I think that
undirected ties better represent shared knowledge exchange.</p>
<p><strong>Independent variables</strong> Two main actor-level variables
are included in the analysis: departmental affiliation and individual
interdisciplinarity.</p>
<p>Departmental affiliation represents each scholar’s disciplinary
background and serves as a categorical covariate distinguishing members
of the political science and sociology departments. This variable allows
for the examination of disciplinary homophily, that is, the extent to
which researchers preferentially collaborate with colleagues from the
same department. In the RSiena model, this variable is included as a
constant actor covariate coded as 0 for political science and 1 for
sociology.</p>
<p>Individual interdisciplinarity measures the extent to which a scholar
engages in collaboration across departmental boundaries. For each wave,
a matrix was constructed indicating whether each collaborator (alter)
belonged to a different department. For each scholar (ego), the number
of cross-department collaborations was divided by their total number of
collaborations, producing a proportion of interdisciplinary ties that
can vary across waves.</p>
<p>To account for both direct and indirect exposure to
interdisciplinarity, scholars who had no cross-department ties
themselves but were connected to others with such ties were assigned an
indirect exposure score. The resulting variable was then categorized
into five ordered levels:</p>
<ul>
<li>0 = no interdisciplinary exposure</li>
<li>1 = indirect exposure only</li>
<li>2 = ≤ 25% interdisciplinary ties</li>
<li>3 = 25–50% interdisciplinary ties</li>
<li>4 = &gt; 50% interdisciplinary ties</li>
</ul>
<p>Including indirect exposure captures the idea that researchers’
behaviors and opportunities are shaped not only by their own
collaborations but also by those within their immediate social
environment. Through colleagues who are themselves interdisciplinary,
scholars gain indirect access to diverse epistemic communities, methods,
and theoretical perspectives. In this sense, indirect exposure
represents the diffusion of interdisciplinary influence through local
network structures, extending beyond direct collaboration ties. This
aligns with Granovetter’s (1973) theory of the strength of weak ties,
which emphasizes the diffusion of novel information through indirect
social connections. The resulting measure was entered into RSiena as a
time-varying actor covariate (varCovar).</p>
</div>
<div id="methods-and-analytical-strategy" class="section level1"
number="2">
<h1><span class="header-section-number">2</span> <span
style="color: orange;"><strong>Methods and analytical
strategy</strong></span></h1>
<p>For this project the analytical strategy will consist out of 3 steps.
In the first step I will provide some descriptive statistics of the
complete sample. In the second step some descriptive statics of the
network will be presented together with multiple different
visualizations of the different waves. These descriptives together with
the visualizations will be used to capture some of the macro-level
changes in the network and to answer hypothesis 1 and 2. Third, the
longitudinal network analysis will be conducted using RSiena, a package
designed for Stochastic Actor-Oriented Models (SAOMs). This approach
assumes that networks evolve as a result of actors’ individual decisions
and preferences, influenced by both structural and attribute-based
factors. RSiena enables the modeling of micro-level behavioral changes
that collectively shape the macro-level structure of the network over
time. Through its estimation framework, the method distinguishes between
selection processes, where network ties themselves are the dependent
variable, and influence processes, where the outcome concerns changes in
actor attributes. This makes RSiena particularly suited for examining
how collaboration patterns among scholars emerge and transform across
time. Descriptive statistics</p>
</div>
<div id="descriptives" class="section level1" number="3">
<h1><span class="header-section-number">3</span> <span
style="color: orange;"><strong>Descriptives</strong></span></h1>
<p>The sample includes scholars affiliated with four Dutch universities:
Radboud University (RU), the University of Amsterdam (UvA), the
University of Groningen (RUG), and Utrecht University (UU). These
institutions were selected as they represented the largest groups within
the broader dataset. In the first wave, 91 scholars were affiliated with
RU, 61 with RUG, 3 with UU, and 149 with UvA. The distributions remained
relatively stable across waves, showing only minor fluctuations due to
changes in institutional affiliations over time.</p>
<p>Regarding disciplinary composition, the sample consists of
researchers from sociology and political science, with more sociologist
(61%) compared to political scientist (39%).</p>
<p>To assess individual interdisciplinarity, scholars were categorized
based on the proportion of their cross-department collaborations,
including indirect exposure. Most researchers did not engage in
interdisciplinary collaboration (score = 0) across all waves, though a
smaller subset showed indirect or moderate levels of exposure.</p>
<p>These patterns indicate that while the majority of scholars have no
direct interdisciplinary exposure, a notable proportion experience
indirect or partial interdisciplinary collaboration. Over time, there is
some diffusion of interdisciplinary ties within the network. One the one
hand, there is a modest increase in interdisciplinary ties from wave one
tot wave two.On the other hand there is a strong decline in
interdisciplinary ties in wave 3. This is contradictory to the
expectation in hypothesis two.</p>
</div>
<div id="data-preperations" class="section level1" number="4">
<h1><span class="header-section-number">4</span> <span
style="color: orange;"><strong>Data preperations</strong></span></h1>
<div id="functions" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Functions</h2>
<pre class="r test"><code>rm(list = ls())

fpackage.check = function(packages) {
    lapply(packages, FUN = function(x) {
        if (!require(x, character.only = TRUE)) {
            install.packages(x, dependencies = TRUE)
            library(x, character.only = TRUE)
        }
    })
}

fsave = function(x, file = NULL, location = &quot;./data/processed/&quot;) {
    ifelse(!dir.exists(&quot;data&quot;), dir.create(&quot;data&quot;), FALSE)
    ifelse(!dir.exists(&quot;data/processed&quot;), dir.create(&quot;data/processed&quot;), FALSE)
    if (is.null(file))
        file = deparse(substitute(x))
    datename = substr(gsub(&quot;[:-]&quot;, &quot;&quot;, Sys.time()), 1, 8)
    totalname = paste(location, datename, file, &quot;.rda&quot;, sep = &quot;&quot;)
    save(x, file = totalname)  #need to fix if file is reloaded as input name, not as x. 
}

fload = function(filename) {
    load(filename)
    get(ls()[ls() != &quot;filename&quot;])
}

fshowdf = function(x, ...) {
    knitr::kable(x, digits = 2, &quot;html&quot;, ...) |&gt;
        kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;)) |&gt;
        kableExtra::scroll_box(width = &quot;100%&quot;, height = &quot;300px&quot;)
}</code></pre>
</div>
<div id="define-network-data-helper-function" class="section level2"
number="4.2">
<h2><span class="header-section-number">4.2</span> Define Network Data
Helper Function</h2>
<pre class="r test"><code>fcolnet = function(data = scholars, university = c(&quot;RU&quot;, &quot;VU&quot;,&quot;UU&quot;, &quot;UvT&quot;, &quot;RUG&quot;, &quot;EUR&quot;, &quot;UvA&quot;), discipline = &quot;Sociologie&quot;, waves = list(c(2015,
    2018), c(2019, 2023), c(2024, 2025)), type = c(&quot;first&quot;)) {

    university = paste0(&#39;(&#39;, paste0(university, collapse=&#39;|&#39; ), &#39;)&#39;)
    discipline = paste0(&#39;(&#39;, paste0(discipline, collapse=&#39;|&#39; ), &#39;)&#39;)

    # step 1
    demographics = data$demographics
    sample = which(
        (str_detect(demographics$universiteit.22, university)
            | str_detect(demographics$universiteit.24, university)
            | str_detect(demographics$universiteit.25, university)
        ) &amp; (
            str_detect(demographics$discipline.22, discipline)
            | str_detect(demographics$discipline.24, discipline)
            | str_detect(demographics$discipline.25, discipline)
        ) |&gt; replace_na(FALSE))

    demographics_soc = demographics[sample, ] |&gt; drop_na(id)

    # step 2
    ids = demographics_soc$id |&gt; unique()

    scholars_sel = list() 
    for (id_ in ids){
        scholars_sel[[id_]] = bind_rows(scholars$works) |&gt;
            filter(author_id == id_)
    }
    scholars_sel = bind_rows(scholars$works) 
    

    nwaves = length(waves)
    nets = array(0, dim = c(nwaves, length(ids), length(ids)), dimnames = list(wave = 1:nwaves, ids,
        ids))
    dimnames(nets)

    # step 3
    df_works = tibble(
            works_id = scholars_sel$id, 
            works_author = scholars_sel$authorships, 
            works_year = scholars_sel$publication_year
        )

    df_works = df_works[!duplicated(df_works), ]

    # step 4
    if (type == &quot;first&quot;) {
        for (j in 1:length(waves)) {
            df_works_w = df_works[df_works$works_year &gt;= waves[[j]][1] &amp; df_works$works_year &lt;= waves[[j]][2],
                ]
            for (i in 1:nrow(df_works_w)) {
                ego = df_works_w$works_author[i][[1]]$id[1]
                alters = df_works_w$works_author[i][[1]]$id[-1]
                if (sum(ids %in% ego) &gt; 0 &amp; sum(ids %in% alters) &gt; 0) {
                  nets[j, which(ids %in% ego), which(ids %in% alters)] = 1
                }
            }
        }
    }

    if (type == &quot;last&quot;) {
        for (j in 1:length(waves)) {
            df_works_w = df_works[df_works$works_year &gt;= waves[[j]][1] &amp; df_works$works_year &lt;= waves[[j]][2],
                ]
            for (i in 1:nrow(df_works_w)) {
                ego = rev(df_works_w$works_author[i][[1]]$id[1])
                alters = rev(df_works_w$works_author[i][[1]]$id[-1])
                if (sum(ids %in% ego) &gt; 0 &amp; sum(ids %in% alters) &gt; 0) {
                  nets[j, which(ids %in% ego), which(ids %in% alters)] = 1
                }
            }
        }
    }
    if (type == &quot;all&quot;) {
        for (j in 1:length(waves)) {
            df_works_w = df_works[df_works$works_year &gt;= waves[[j]][1] &amp; df_works$works_year &lt;= waves[[j]][2],
                ]
            for (i in 1:nrow(df_works_w)) {
                egos = df_works_w$works_author[i][[1]]$id
                if (sum(ids %in% egos) &gt; 0) {
                  nets[j, which(ids %in% egos), which(ids %in% egos)] = 1
                }
            }
            diag(nets[j,,]) = 0
        }
    }

    output = list()
    output$data = demographics_soc
    output$nets = nets
    return(output)
}</code></pre>
</div>
<div id="loading-data" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Loading data</h2>
<pre class="r test"><code>packages = c(
    &quot;RSiena&quot;, &quot;tidyverse&quot;,&quot;devtools&quot;,
    &quot;dplyr&quot;, &quot;stringr&quot;, &quot;RsienaTwoStep&quot;
)

library(igraph)
library(dplyr)


fpackage.check(packages)</code></pre>
<pre class="test2"><code>#&gt; [[1]]
#&gt; NULL
#&gt; 
#&gt; [[2]]
#&gt; NULL
#&gt; 
#&gt; [[3]]
#&gt; NULL
#&gt; 
#&gt; [[4]]
#&gt; NULL
#&gt; 
#&gt; [[5]]
#&gt; NULL
#&gt; 
#&gt; [[6]]
#&gt; NULL</code></pre>
<pre class="r test"><code>scholars = fload(&quot;C:/Users/hanne/Downloads/20251017scholars.Rda&quot;)</code></pre>
</div>
<div id="network" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Network</h2>
<pre class="r test"><code># Build the network
test &lt;- fcolnet(data = scholars, 
                university = c(&quot;RU&quot;, &#39;UvA&#39;, &quot;RUG&quot;,&quot;UU&quot;), 
                discipline = c(&quot;Sociologie&quot;, &quot;Politicologie&quot;), 
                waves = list(c(2015, 2018), c(2019, 2023), c(2024, 2025)),
                type = c(&quot;all&quot;))

# --- Prepare ego-level data for later use ---
df_ego &lt;- test$data

# First wave
test_w1 &lt;- igraph::graph_from_adjacency_matrix(
  test$nets[1,,],
  mode = &quot;undirected&quot;,
  weighted = NULL,
  diag = FALSE,
  add.colnames = NULL
)
# Second wave
test_w2 &lt;- igraph::graph_from_adjacency_matrix(
  test$nets[2,,],
  mode = &quot;undirected&quot;,
  weighted = NULL,
  diag = FALSE,
  add.colnames = NULL
)

# thrird wave
test_w3 &lt;- igraph::graph_from_adjacency_matrix(
  test$nets[3,,],
  mode = &quot;undirected&quot;,
  weighted = NULL,
  diag = FALSE,
  add.colnames = NULL
)</code></pre>
<pre class="r test"><code># Make it an array

nets_correct &lt;- aperm(test$nets, c(2, 3, 1))

dim(nets_correct)</code></pre>
<pre class="test2"><code>#&gt; [1] 474 474   3</code></pre>
<pre class="r test"><code>net_siena &lt;- sienaDependent(nets_correct)</code></pre>
</div>
<div id="constructing-independent-varaible-interdisciplinarity"
class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Constructing
Independent varaible interdisciplinarity</h2>
<pre class="r test"><code># ---------- Bereken cross-department variabele voor alle waves ----------

# Vereist: nets_correct (array van dim [actors x actors x waves])
#           df_ego met kolom discipline.22

# 1. Disciplinevector voorbereiden
dept_num &lt;- as.numeric(as.factor(df_ego$discipline.22))
dept_num[is.na(dept_num)] &lt;- 99  # vervang missende waarden door neutrale code

# 2. Functie om cross-score per wave te berekenen
get_cross_score &lt;- function(wave_matrix, dept_num) {
  # Verschilmatrix: TRUE als alter andere discipline heeft
  diff_dept_matrix &lt;- outer(dept_num, dept_num, FUN = function(i, j) i != j)
  
  # Aantal cross-department ties per ego
  cross_out_counts &lt;- rowSums(wave_matrix * diff_dept_matrix, na.rm = TRUE)
  
  # Totale outdegree per ego
  ego_outdeg &lt;- rowSums(wave_matrix, na.rm = TRUE)
  
  # Proportie cross-department relaties
  cross_prop &lt;- ifelse(ego_outdeg &gt; 0, cross_out_counts / ego_outdeg, 0)
  
  # Indirecte blootstelling (alter heeft cross_prop &gt; 0)
  indirect_flag &lt;- rep(0, length(cross_prop))
  for (i in seq_along(cross_prop)) {
    alters &lt;- which(wave_matrix[i, ] != 0)
    if (length(alters) &gt; 0) {
      if (cross_prop[i] == 0 &amp;&amp; any(cross_prop[alters] &gt; 0)) {
        indirect_flag[i] &lt;- 1
      }
    }
  }
  
  # Categoriseer score
  cross_score &lt;- dplyr::case_when(
    cross_prop == 0 &amp; indirect_flag == 0 ~ 0,
    cross_prop == 0 &amp; indirect_flag == 1 ~ 1,
    cross_prop &gt; 0 &amp; cross_prop &lt;= 0.25 ~ 2,
    cross_prop &gt; 0.25 &amp; cross_prop &lt;= 0.5 ~ 3,
    cross_prop &gt; 0.5 ~ 4
  )
  
  return(cross_score)
}

# 3. Toepassen op alle waves
nwaves &lt;- dim(nets_correct)[3]

cross_scores &lt;- sapply(1:nwaves, function(w) {
  get_cross_score(nets_correct[,,w], dept_num)
})

# 4. RSiena varCovar-object aanmaken
cross_cov &lt;- varCovar(cross_scores)</code></pre>
</div>
<div id="constructing-independent-varaible-department"
class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Constructing
Independent varaible department</h2>
<pre class="r test"><code>demographics_soc &lt;- test$data

# Replace empty / missing with NA
demographics_soc$discipline.22[demographics_soc$discipline.22 == &quot;missing&quot;] &lt;- NA

# Keep only the two real departments
dept_factor &lt;- factor(demographics_soc$discipline.22,
                      levels = c(&quot;Politicologie&quot;, &quot;Sociologie&quot;))

# Convert to numeric for RSiena
dept_num &lt;- as.numeric(dept_factor)

# Create a covariate object (RSiena ignores NAs automatically)
dept_cov &lt;- coCovar(dept_num)</code></pre>
</div>
</div>
<div id="descriptives-in-r" class="section level1" number="5">
<h1><span class="header-section-number">5</span> <span
style="color: orange;"><strong>Descriptives in R</strong></span></h1>
<div id="universities" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Universities</h2>
<pre class="test2"><code>#&gt; 
#&gt;                       Bocconi University/UvA                                       Leiden 
#&gt;                                            1                                            1 
#&gt;                               Leiden uni/UvA                                           RU 
#&gt;                                            1                                           91 
#&gt;                                       RU/RUG                                          RUG 
#&gt;                                            1                                           61 
#&gt;                                       RUG/RU                                  RUG/Tilburg 
#&gt;                                            1                                            1 
#&gt;                                 RUG/TU Delft                   RUG/Universiteit Stockholm 
#&gt;                                            1                                            1 
#&gt;                     RUG/University Linköping                      RUG/University of Turku 
#&gt;                                            1                                            1 
#&gt;                                           UU                                       UU/UvA 
#&gt;                                           48                                            1 
#&gt;                                        UU/VU                                          UvA 
#&gt;                                            1                                          149 
#&gt;                                      UvA/EUR UvA/Frankfurt School of Finance &amp; Management 
#&gt;                                            1                                            1 
#&gt;                             UvA/Shandong uni                           UvA/Uni Gothenburg 
#&gt;                                            1                                            1 
#&gt;                          UvA/Uni of Lausanne                   UvA/University of Lausanne 
#&gt;                                            1                                            1 
#&gt;                                          UvT                                           VU 
#&gt;                                            1                                            1</code></pre>
<pre class="test2"><code>#&gt; 
#&gt;  RU RUG  UU UvA 
#&gt;  91  61  48 149</code></pre>
<pre class="test2"><code>#&gt; 
#&gt;  RU RUG  UU UvA 
#&gt;  88  66  43 166</code></pre>
<pre class="test2"><code>#&gt; 
#&gt;  RU RUG  UU UvA 
#&gt;  67  71  32 149</code></pre>
</div>
<div id="distribution-interdisciplinarity-wave-1-2-3"
class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Distribution
interdisciplinarity wave 1, 2, 3</h2>
<pre class="test2"><code>#&gt; 
#&gt;   0   1   2   3   4 
#&gt; 382  47  13  17  15</code></pre>
<p><img src="project2_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<pre class="test2"><code>#&gt; 
#&gt;   0   1   2   3   4 
#&gt; 335  82  22  16  19</code></pre>
<p><img src="project2_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<pre class="test2"><code>#&gt; 
#&gt;   0   1   2   3   4 
#&gt; 365  59  13  13  24</code></pre>
<p><img src="project2_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
<div id="distribution-department-wave-1" class="section level2"
number="5.3">
<h2><span class="header-section-number">5.3</span> Distribution
department wave 1</h2>
<pre class="test2"><code>#&gt; dept_cov
#&gt;   1   2 
#&gt; 144 225</code></pre>
<p><img src="project2_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
</div>
<div id="references." class="section level1" number="6">
<h1><span class="header-section-number">6</span> <span
style="color: orange;"><strong>References.</strong></span></h1>
<p>Granovetter, M. S. (1973). <em>The Strength of Weak Ties.</em>
<em>American Journal of Sociology, 78</em>(6), 1360–1380. <a
href="http://www.jstor.org/stable/2776392">http://www.jstor.org/stable/2776392</a></p>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkZpbmFsIHByb2plY3QgTWV0aG9kcyINCiNiaWJsaW9ncmFwaHk6IHJlZmVyZW5jZXMuYmliDQphdXRob3I6ICJIYW5uZSBXb2x0aHVpcyINCi0tLQ0KDQoNCg0KYGBge3IsIGdsb2JhbHNldHRpbmdzLCBlY2hvPUZBTFNFLCB3YXJuaW5nPUZBTFNFLCByZXN1bHRzPSdoaWRlJ30NCmxpYnJhcnkoa25pdHIpDQoNCmtuaXRyOjpvcHRzX2NodW5rJHNldChlY2hvID0gVFJVRSkNCm9wdHNfY2h1bmskc2V0KHRpZHkub3B0cz1saXN0KHdpZHRoLmN1dG9mZj0xMDApLHRpZHk9VFJVRSwgd2FybmluZyA9IEZBTFNFLCBtZXNzYWdlID0gRkFMU0UsY29tbWVudCA9ICIjPiIsIGNhY2hlPVRSVUUsIGNsYXNzLnNvdXJjZT1jKCJ0ZXN0IiksIGNsYXNzLm91dHB1dD1jKCJ0ZXN0MiIpKQ0Kb3B0aW9ucyh3aWR0aCA9IDEwMCkNCnJnbDo6c2V0dXBLbml0cigpDQoNCg0KDQpjb2xvcml6ZSA8LSBmdW5jdGlvbih4LCBjb2xvcikge3NwcmludGYoIjxzcGFuIHN0eWxlPSdjb2xvcjogJXM7Jz4lczwvc3Bhbj4iLCBjb2xvciwgeCkgfQ0KDQpgYGANCg0KYGBge3Iga2xpcHB5LCBlY2hvPUZBTFNFLCBldmFsID0gRkFMU0UsIGluY2x1ZGU9VFJVRX0NCmtsaXBweTo6a2xpcHB5KHBvc2l0aW9uID0gYygndG9wJywgJ3JpZ2h0JykpDQoja2xpcHB5OjprbGlwcHkoY29sb3IgPSAnZGFya3JlZCcpDQoja2xpcHB5OjprbGlwcHkodG9vbHRpcF9tZXNzYWdlID0gJ0NsaWNrIHRvIGNvcHknLCB0b29sdGlwX3N1Y2Nlc3MgPSAnRG9uZScpDQpgYGANCg0KTGFzdCBjb21waWxlZCBvbiBgciBmb3JtYXQoU3lzLnRpbWUoKSwgJyVCLCAlWScpYA0KDQo8YnI+DQoNCiAgDQotLS0tDQoNCiMgYHIgY29sb3JpemUoIioqRGF0YSoqIiwgIm9yYW5nZSIpYA0KDQpUaGUgZGF0YSB1c2VkIGluIHRoaXMgc3R1ZHkgb3JpZ2luYXRlIGZyb20gdGhlIE9wZW5BbGV4IGRhdGFiYXNlLCBhbiBvcGVuLWFjY2VzcyBiaWJsaW9ncmFwaGljIGNhdGFsb2d1ZSBjb250YWluaW5nIG1ldGFkYXRhIG9uIHNjaG9sYXJseSBwdWJsaWNhdGlvbnMsIGF1dGhvcnMsIGFuZCBpbnN0aXR1dGlvbmFsIGFmZmlsaWF0aW9ucy4gVGhlIGRhdGFzZXQgd2FzIHByZS1jb2xsZWN0ZWQgYW5kIHByb3ZpZGVkIGFzIHBhcnQgb2YgdGhlIGNvdXJzZSBtYXRlcmlhbHMgYW5kIGluY2x1ZGVzIGluZm9ybWF0aW9uIG9uIHNjaG9sYXJzIGFmZmlsaWF0ZWQgd2l0aCBEdXRjaCB1bml2ZXJzaXRpZXMsIHN1Y2ggYXMgbmFtZSwgZGVwYXJ0bWVudCwgdW5pdmVyc2l0eSBvZiBlbXBsb3ltZW50LCBhbmQgcHVibGljYXRpb24gaGlzdG9yeS4gRm9yIHRoaXMgc3R1ZHksIGEgc3Vic2V0IG9mIHNjaG9sYXJzIGZyb20gdGhlIGRlcGFydG1lbnRzIG9mIFNvY2lvbG9neSBhbmQgUG9saXRpY2FsIFNjaWVuY2UgYXQgUmFkYm91ZCBVbml2ZXJzaXR5IChSVSkgYW5kIFV0cmVjaHQgVW5pdmVyc2l0eSAoVVUpLCBVbml2ZXJzaXR5IG9mIEdyb25pbmdlbiAoUlVHKSBhbmQgQW1zdGVyZGFtIChVdkEpIHdlcmUgc2VsZWN0ZWQuIFRoaXMgc2VsZWN0aW9uIHdhcyBtYWRlIHRvIGFsbG93IGZvciBhIGZvY3VzZWQgY29tcGFyaXNvbiBvZiBjb2xsYWJvcmF0aW9uIHBhdHRlcm5zIHdpdGhpbiBhbmQgYmV0d2VlbiB0d28gY2xvc2VseSByZWxhdGVkIHNvY2lhbCBzY2llbmNlIGRpc2NpcGxpbmVzLg0KQ28tYXV0aG9yc2hpcCBkYXRhIHdlcmUgdXNlZCB0byBjb25zdHJ1Y3QgbG9uZ2l0dWRpbmFsIGNvbGxhYm9yYXRpb24gbmV0d29ya3MgYWNyb3NzIHRocmVlIHRpbWUgcGVyaW9kcywgb3Ig4oCcd2F2ZXMs4oCdIGNvdmVyaW5nIDIwMTXigJMyMDE4LCAyMDE54oCTMjAyMywgYW5kIDIwMjTigJMyMDI1LiANCg0KKipEZXBlbmRlbnQgdmFyaWFibGUqKg0KVGhlIGRlcGVuZGVudCB2YXJpYWJsZSBpbiB0aGlzIHN0dWR5IGNhcHR1cmVzIHRoZSBmb3JtYXRpb24gYW5kIHBlcnNpc3RlbmNlIG9mIGNvbGxhYm9yYXRpb24gdGllcyBiZXR3ZWVuIHNjaG9sYXJzIGFjcm9zcyB0d28gdGltZSBwZXJpb2RzLiBDb2xsYWJvcmF0aW9uIGlzIGRlZmluZWQgYXMgdGhlIGNvLWF1dGhvcnNoaXAgb2YgYXQgbGVhc3Qgb25lIGFjYWRlbWljIHB1YmxpY2F0aW9uLiBUaGUgZGF0YSB3ZXJlIHN0cnVjdHVyZWQgYXMgYWxsIGFuIHVuZGlyZWN0ZWQgbmV0d29yaywgd2hlcmUgYSB0aWUgYmV0d2VlbiB0d28gc2Nob2xhcnMgaW5kaWNhdGVzIHRoYXQgdGhleSBjby1hdXRob3JlZCBvbmUgb3IgbW9yZSBwdWJsaWNhdGlvbnMgZHVyaW5nIGEgZ2l2ZW4gdGltZSB3YXZlLiBJIGRlY2lkZWQgdG8gaW5jbHVkZSB1bmRpcmVjdGVkIHRpZXMgYmV0d2VlbiBhbGwgYXV0aG9ycywgbWVhbmluZyB0aGF0IGV2ZXJ5IGF1dGhvciBvbiBhIHB1YmxpY2F0aW9uIGlzIGFzc3VtZWQgdG8gYmUgZXF1YWxseSBjb25uZWN0ZWQgdG8gZXZlcnkgb3RoZXIgYXV0aG9yIG9uIHRoYXQgcHVibGljYXRpb24sIHJlZ2FyZGxlc3Mgb2YgYXV0aG9yc2hpcCBvcmRlci4gSSBtYWRlIHRoaXMgZGVjaXNpb24gYmVjYXVzZSBJIHRoaW5rIHRoYXQgdW5kaXJlY3RlZCB0aWVzIGJldHRlciByZXByZXNlbnQgc2hhcmVkIGtub3dsZWRnZSBleGNoYW5nZS4NCg0KKipJbmRlcGVuZGVudCB2YXJpYWJsZXMqKiANClR3byBtYWluIGFjdG9yLWxldmVsIHZhcmlhYmxlcyBhcmUgaW5jbHVkZWQgaW4gdGhlIGFuYWx5c2lzOiBkZXBhcnRtZW50YWwgYWZmaWxpYXRpb24gYW5kIGluZGl2aWR1YWwgaW50ZXJkaXNjaXBsaW5hcml0eS4NCg0KRGVwYXJ0bWVudGFsIGFmZmlsaWF0aW9uIHJlcHJlc2VudHMgZWFjaCBzY2hvbGFy4oCZcyBkaXNjaXBsaW5hcnkgYmFja2dyb3VuZCBhbmQgc2VydmVzIGFzIGEgY2F0ZWdvcmljYWwgY292YXJpYXRlIGRpc3Rpbmd1aXNoaW5nIG1lbWJlcnMgb2YgdGhlIHBvbGl0aWNhbCBzY2llbmNlIGFuZCBzb2Npb2xvZ3kgZGVwYXJ0bWVudHMuIFRoaXMgdmFyaWFibGUgYWxsb3dzIGZvciB0aGUgZXhhbWluYXRpb24gb2YgZGlzY2lwbGluYXJ5IGhvbW9waGlseSwgdGhhdCBpcywgdGhlIGV4dGVudCB0byB3aGljaCByZXNlYXJjaGVycyBwcmVmZXJlbnRpYWxseSBjb2xsYWJvcmF0ZSB3aXRoIGNvbGxlYWd1ZXMgZnJvbSB0aGUgc2FtZSBkZXBhcnRtZW50LiBJbiB0aGUgUlNpZW5hIG1vZGVsLCB0aGlzIHZhcmlhYmxlIGlzIGluY2x1ZGVkIGFzIGEgY29uc3RhbnQgYWN0b3IgY292YXJpYXRlIGNvZGVkIGFzIDAgZm9yIHBvbGl0aWNhbCBzY2llbmNlIGFuZCAxIGZvciBzb2Npb2xvZ3kuDQoNCkluZGl2aWR1YWwgaW50ZXJkaXNjaXBsaW5hcml0eSBtZWFzdXJlcyB0aGUgZXh0ZW50IHRvIHdoaWNoIGEgc2Nob2xhciBlbmdhZ2VzIGluIGNvbGxhYm9yYXRpb24gYWNyb3NzIGRlcGFydG1lbnRhbCBib3VuZGFyaWVzLiBGb3IgZWFjaCB3YXZlLCBhIG1hdHJpeCB3YXMgY29uc3RydWN0ZWQgaW5kaWNhdGluZyB3aGV0aGVyIGVhY2ggY29sbGFib3JhdG9yIChhbHRlcikgYmVsb25nZWQgdG8gYSBkaWZmZXJlbnQgZGVwYXJ0bWVudC4gRm9yIGVhY2ggc2Nob2xhciAoZWdvKSwgdGhlIG51bWJlciBvZiBjcm9zcy1kZXBhcnRtZW50IGNvbGxhYm9yYXRpb25zIHdhcyBkaXZpZGVkIGJ5IHRoZWlyIHRvdGFsIG51bWJlciBvZiBjb2xsYWJvcmF0aW9ucywgcHJvZHVjaW5nIGEgcHJvcG9ydGlvbiBvZiBpbnRlcmRpc2NpcGxpbmFyeSB0aWVzIHRoYXQgY2FuIHZhcnkgYWNyb3NzIHdhdmVzLg0KDQpUbyBhY2NvdW50IGZvciBib3RoIGRpcmVjdCBhbmQgaW5kaXJlY3QgZXhwb3N1cmUgdG8gaW50ZXJkaXNjaXBsaW5hcml0eSwgc2Nob2xhcnMgd2hvIGhhZCBubyBjcm9zcy1kZXBhcnRtZW50IHRpZXMgdGhlbXNlbHZlcyBidXQgd2VyZSBjb25uZWN0ZWQgdG8gb3RoZXJzIHdpdGggc3VjaCB0aWVzIHdlcmUgYXNzaWduZWQgYW4gaW5kaXJlY3QgZXhwb3N1cmUgc2NvcmUuIFRoZSByZXN1bHRpbmcgdmFyaWFibGUgd2FzIHRoZW4gY2F0ZWdvcml6ZWQgaW50byBmaXZlIG9yZGVyZWQgbGV2ZWxzOiANCg0KLSAwID0gbm8gaW50ZXJkaXNjaXBsaW5hcnkgZXhwb3N1cmUNCi0gMSA9IGluZGlyZWN0IGV4cG9zdXJlIG9ubHkNCi0gMiA9IOKJpCAyNSUgaW50ZXJkaXNjaXBsaW5hcnkgdGllcw0KLSAzID0gMjXigJM1MCUgaW50ZXJkaXNjaXBsaW5hcnkgdGllcw0KLSA0ID0gPiA1MCUgaW50ZXJkaXNjaXBsaW5hcnkgdGllcw0KDQoNCkluY2x1ZGluZyBpbmRpcmVjdCBleHBvc3VyZSBjYXB0dXJlcyB0aGUgaWRlYSB0aGF0IHJlc2VhcmNoZXJz4oCZIGJlaGF2aW9ycyBhbmQgb3Bwb3J0dW5pdGllcyBhcmUgc2hhcGVkIG5vdCBvbmx5IGJ5IHRoZWlyIG93biBjb2xsYWJvcmF0aW9ucyBidXQgYWxzbyBieSB0aG9zZSB3aXRoaW4gdGhlaXIgaW1tZWRpYXRlIHNvY2lhbCBlbnZpcm9ubWVudC4gVGhyb3VnaCBjb2xsZWFndWVzIHdobyBhcmUgdGhlbXNlbHZlcyBpbnRlcmRpc2NpcGxpbmFyeSwgc2Nob2xhcnMgZ2FpbiBpbmRpcmVjdCBhY2Nlc3MgdG8gZGl2ZXJzZSBlcGlzdGVtaWMgY29tbXVuaXRpZXMsIG1ldGhvZHMsIGFuZCB0aGVvcmV0aWNhbCBwZXJzcGVjdGl2ZXMuIEluIHRoaXMgc2Vuc2UsIGluZGlyZWN0IGV4cG9zdXJlIHJlcHJlc2VudHMgdGhlIGRpZmZ1c2lvbiBvZiBpbnRlcmRpc2NpcGxpbmFyeSBpbmZsdWVuY2UgdGhyb3VnaCBsb2NhbCBuZXR3b3JrIHN0cnVjdHVyZXMsIGV4dGVuZGluZyBiZXlvbmQgZGlyZWN0IGNvbGxhYm9yYXRpb24gdGllcy4gVGhpcyBhbGlnbnMgd2l0aCBHcmFub3ZldHRlcuKAmXMgKDE5NzMpIHRoZW9yeSBvZiB0aGUgc3RyZW5ndGggb2Ygd2VhayB0aWVzLCB3aGljaCBlbXBoYXNpemVzIHRoZSBkaWZmdXNpb24gb2Ygbm92ZWwgaW5mb3JtYXRpb24gdGhyb3VnaCBpbmRpcmVjdCBzb2NpYWwgY29ubmVjdGlvbnMuIFRoZSByZXN1bHRpbmcgbWVhc3VyZSB3YXMgZW50ZXJlZCBpbnRvIFJTaWVuYSBhcyBhIHRpbWUtdmFyeWluZyBhY3RvciBjb3ZhcmlhdGUgKHZhckNvdmFyKS4NCg0KIA0KIyBgciBjb2xvcml6ZSgiKipNZXRob2RzIGFuZCBhbmFseXRpY2FsIHN0cmF0ZWd5KioiLCAib3JhbmdlIilgDQoNCkZvciB0aGlzIHByb2plY3QgdGhlIGFuYWx5dGljYWwgc3RyYXRlZ3kgd2lsbCBjb25zaXN0IG91dCBvZiAzIHN0ZXBzLiBJbiB0aGUgZmlyc3Qgc3RlcCBJIHdpbGwgcHJvdmlkZSBzb21lIGRlc2NyaXB0aXZlIHN0YXRpc3RpY3Mgb2YgdGhlIGNvbXBsZXRlIHNhbXBsZS4gSW4gdGhlIHNlY29uZCBzdGVwIHNvbWUgZGVzY3JpcHRpdmUgc3RhdGljcyBvZiB0aGUgbmV0d29yayB3aWxsIGJlIHByZXNlbnRlZCB0b2dldGhlciB3aXRoIG11bHRpcGxlIGRpZmZlcmVudCB2aXN1YWxpemF0aW9ucyBvZiB0aGUgZGlmZmVyZW50IHdhdmVzLiBUaGVzZSBkZXNjcmlwdGl2ZXMgdG9nZXRoZXIgd2l0aCB0aGUgdmlzdWFsaXphdGlvbnMgd2lsbCBiZSB1c2VkIHRvIGNhcHR1cmUgc29tZSBvZiB0aGUgbWFjcm8tbGV2ZWwgY2hhbmdlcyBpbiB0aGUgbmV0d29yayBhbmQgdG8gYW5zd2VyIGh5cG90aGVzaXMgMSBhbmQgMi4gVGhpcmQsIHRoZSBsb25naXR1ZGluYWwgbmV0d29yayBhbmFseXNpcyB3aWxsIGJlIGNvbmR1Y3RlZCB1c2luZyBSU2llbmEsIGEgcGFja2FnZSBkZXNpZ25lZCBmb3IgU3RvY2hhc3RpYyBBY3Rvci1PcmllbnRlZCBNb2RlbHMgKFNBT01zKS4gVGhpcyBhcHByb2FjaCBhc3N1bWVzIHRoYXQgbmV0d29ya3MgZXZvbHZlIGFzIGEgcmVzdWx0IG9mIGFjdG9yc+KAmSBpbmRpdmlkdWFsIGRlY2lzaW9ucyBhbmQgcHJlZmVyZW5jZXMsIGluZmx1ZW5jZWQgYnkgYm90aCBzdHJ1Y3R1cmFsIGFuZCBhdHRyaWJ1dGUtYmFzZWQgZmFjdG9ycy4gUlNpZW5hIGVuYWJsZXMgdGhlIG1vZGVsaW5nIG9mIG1pY3JvLWxldmVsIGJlaGF2aW9yYWwgY2hhbmdlcyB0aGF0IGNvbGxlY3RpdmVseSBzaGFwZSB0aGUgbWFjcm8tbGV2ZWwgc3RydWN0dXJlIG9mIHRoZSBuZXR3b3JrIG92ZXIgdGltZS4gVGhyb3VnaCBpdHMgZXN0aW1hdGlvbiBmcmFtZXdvcmssIHRoZSBtZXRob2QgZGlzdGluZ3Vpc2hlcyBiZXR3ZWVuIHNlbGVjdGlvbiBwcm9jZXNzZXMsIHdoZXJlIG5ldHdvcmsgdGllcyB0aGVtc2VsdmVzIGFyZSB0aGUgZGVwZW5kZW50IHZhcmlhYmxlLCBhbmQgaW5mbHVlbmNlIHByb2Nlc3Nlcywgd2hlcmUgdGhlIG91dGNvbWUgY29uY2VybnMgY2hhbmdlcyBpbiBhY3RvciBhdHRyaWJ1dGVzLiBUaGlzIG1ha2VzIFJTaWVuYSBwYXJ0aWN1bGFybHkgc3VpdGVkIGZvciBleGFtaW5pbmcgaG93IGNvbGxhYm9yYXRpb24gcGF0dGVybnMgYW1vbmcgc2Nob2xhcnMgZW1lcmdlIGFuZCB0cmFuc2Zvcm0gYWNyb3NzIHRpbWUuDQpEZXNjcmlwdGl2ZSBzdGF0aXN0aWNzIA0KDQojIGByIGNvbG9yaXplKCIqKkRlc2NyaXB0aXZlcyoqIiwgIm9yYW5nZSIpYA0KDQpUaGUgc2FtcGxlIGluY2x1ZGVzIHNjaG9sYXJzIGFmZmlsaWF0ZWQgd2l0aCBmb3VyIER1dGNoIHVuaXZlcnNpdGllczogUmFkYm91ZCBVbml2ZXJzaXR5IChSVSksIHRoZSBVbml2ZXJzaXR5IG9mIEFtc3RlcmRhbSAoVXZBKSwgdGhlIFVuaXZlcnNpdHkgb2YgR3JvbmluZ2VuIChSVUcpLCBhbmQgVXRyZWNodCBVbml2ZXJzaXR5IChVVSkuIFRoZXNlIGluc3RpdHV0aW9ucyB3ZXJlIHNlbGVjdGVkIGFzIHRoZXkgcmVwcmVzZW50ZWQgdGhlIGxhcmdlc3QgZ3JvdXBzIHdpdGhpbiB0aGUgYnJvYWRlciBkYXRhc2V0LiBJbiB0aGUgZmlyc3Qgd2F2ZSwgOTEgc2Nob2xhcnMgd2VyZSBhZmZpbGlhdGVkIHdpdGggUlUsIDYxIHdpdGggUlVHLCAzIHdpdGggVVUsIGFuZCAxNDkgd2l0aCBVdkEuIFRoZSBkaXN0cmlidXRpb25zIHJlbWFpbmVkIHJlbGF0aXZlbHkgc3RhYmxlIGFjcm9zcyB3YXZlcywgc2hvd2luZyBvbmx5IG1pbm9yIGZsdWN0dWF0aW9ucyBkdWUgdG8gY2hhbmdlcyBpbiBpbnN0aXR1dGlvbmFsIGFmZmlsaWF0aW9ucyBvdmVyIHRpbWUuDQoNClJlZ2FyZGluZyBkaXNjaXBsaW5hcnkgY29tcG9zaXRpb24sIHRoZSBzYW1wbGUgY29uc2lzdHMgb2YgcmVzZWFyY2hlcnMgZnJvbSBzb2Npb2xvZ3kgYW5kIHBvbGl0aWNhbCBzY2llbmNlLCB3aXRoIG1vcmUgc29jaW9sb2dpc3QgKDYxJSkgY29tcGFyZWQgdG8gcG9saXRpY2FsIHNjaWVudGlzdCAoMzklKS4NCg0KVG8gYXNzZXNzIGluZGl2aWR1YWwgaW50ZXJkaXNjaXBsaW5hcml0eSwgc2Nob2xhcnMgd2VyZSBjYXRlZ29yaXplZCBiYXNlZCBvbiB0aGUgcHJvcG9ydGlvbiBvZiB0aGVpciBjcm9zcy1kZXBhcnRtZW50IGNvbGxhYm9yYXRpb25zLCBpbmNsdWRpbmcgaW5kaXJlY3QgZXhwb3N1cmUuIE1vc3QgcmVzZWFyY2hlcnMgZGlkIG5vdCBlbmdhZ2UgaW4gaW50ZXJkaXNjaXBsaW5hcnkgY29sbGFib3JhdGlvbiAoc2NvcmUgPSAwKSBhY3Jvc3MgYWxsIHdhdmVzLCB0aG91Z2ggYSBzbWFsbGVyIHN1YnNldCBzaG93ZWQgaW5kaXJlY3Qgb3IgbW9kZXJhdGUgbGV2ZWxzIG9mIGV4cG9zdXJlLg0KDQpUaGVzZSBwYXR0ZXJucyBpbmRpY2F0ZSB0aGF0IHdoaWxlIHRoZSBtYWpvcml0eSBvZiBzY2hvbGFycyBoYXZlIG5vIGRpcmVjdCBpbnRlcmRpc2NpcGxpbmFyeSBleHBvc3VyZSwgYSBub3RhYmxlIHByb3BvcnRpb24gZXhwZXJpZW5jZSBpbmRpcmVjdCBvciBwYXJ0aWFsIGludGVyZGlzY2lwbGluYXJ5IGNvbGxhYm9yYXRpb24uIE92ZXIgdGltZSwgdGhlcmUgaXMgc29tZSBkaWZmdXNpb24gb2YgaW50ZXJkaXNjaXBsaW5hcnkgdGllcyB3aXRoaW4gdGhlIG5ldHdvcmsuIE9uZSB0aGUgb25lIGhhbmQsIHRoZXJlIGlzIGEgbW9kZXN0IGluY3JlYXNlIGluIGludGVyZGlzY2lwbGluYXJ5IHRpZXMgZnJvbSB3YXZlIG9uZSB0b3Qgd2F2ZSB0d28uT24gdGhlIG90aGVyIGhhbmQgdGhlcmUgaXMgYSBzdHJvbmcgZGVjbGluZSBpbiBpbnRlcmRpc2NpcGxpbmFyeSB0aWVzIGluIHdhdmUgMy4gVGhpcyBpcyBjb250cmFkaWN0b3J5IHRvIHRoZSBleHBlY3RhdGlvbiBpbiBoeXBvdGhlc2lzIHR3by4NCg0KDQoNCg0KIyBgciBjb2xvcml6ZSgiKipEYXRhIHByZXBlcmF0aW9ucyoqIiwgIm9yYW5nZSIpYA0KDQojIyBGdW5jdGlvbnMNCmBgYHtyfQ0Kcm0obGlzdCA9IGxzKCkpDQoNCmZwYWNrYWdlLmNoZWNrID0gZnVuY3Rpb24ocGFja2FnZXMpIHsNCiAgICBsYXBwbHkocGFja2FnZXMsIEZVTiA9IGZ1bmN0aW9uKHgpIHsNCiAgICAgICAgaWYgKCFyZXF1aXJlKHgsIGNoYXJhY3Rlci5vbmx5ID0gVFJVRSkpIHsNCiAgICAgICAgICAgIGluc3RhbGwucGFja2FnZXMoeCwgZGVwZW5kZW5jaWVzID0gVFJVRSkNCiAgICAgICAgICAgIGxpYnJhcnkoeCwgY2hhcmFjdGVyLm9ubHkgPSBUUlVFKQ0KICAgICAgICB9DQogICAgfSkNCn0NCg0KZnNhdmUgPSBmdW5jdGlvbih4LCBmaWxlID0gTlVMTCwgbG9jYXRpb24gPSAiLi9kYXRhL3Byb2Nlc3NlZC8iKSB7DQogICAgaWZlbHNlKCFkaXIuZXhpc3RzKCJkYXRhIiksIGRpci5jcmVhdGUoImRhdGEiKSwgRkFMU0UpDQogICAgaWZlbHNlKCFkaXIuZXhpc3RzKCJkYXRhL3Byb2Nlc3NlZCIpLCBkaXIuY3JlYXRlKCJkYXRhL3Byb2Nlc3NlZCIpLCBGQUxTRSkNCiAgICBpZiAoaXMubnVsbChmaWxlKSkNCiAgICAgICAgZmlsZSA9IGRlcGFyc2Uoc3Vic3RpdHV0ZSh4KSkNCiAgICBkYXRlbmFtZSA9IHN1YnN0cihnc3ViKCJbOi1dIiwgIiIsIFN5cy50aW1lKCkpLCAxLCA4KQ0KICAgIHRvdGFsbmFtZSA9IHBhc3RlKGxvY2F0aW9uLCBkYXRlbmFtZSwgZmlsZSwgIi5yZGEiLCBzZXAgPSAiIikNCiAgICBzYXZlKHgsIGZpbGUgPSB0b3RhbG5hbWUpICAjbmVlZCB0byBmaXggaWYgZmlsZSBpcyByZWxvYWRlZCBhcyBpbnB1dCBuYW1lLCBub3QgYXMgeC4gDQp9DQoNCmZsb2FkID0gZnVuY3Rpb24oZmlsZW5hbWUpIHsNCiAgICBsb2FkKGZpbGVuYW1lKQ0KICAgIGdldChscygpW2xzKCkgIT0gImZpbGVuYW1lIl0pDQp9DQoNCmZzaG93ZGYgPSBmdW5jdGlvbih4LCAuLi4pIHsNCiAgICBrbml0cjo6a2FibGUoeCwgZGlnaXRzID0gMiwgImh0bWwiLCAuLi4pIHw+DQogICAgICAgIGthYmxlRXh0cmE6OmthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSBjKCJzdHJpcGVkIiwgImhvdmVyIikpIHw+DQogICAgICAgIGthYmxlRXh0cmE6OnNjcm9sbF9ib3god2lkdGggPSAiMTAwJSIsIGhlaWdodCA9ICIzMDBweCIpDQp9DQoNCmBgYA0KDQoNCiMjIERlZmluZSBOZXR3b3JrIERhdGEgSGVscGVyIEZ1bmN0aW9uDQpgYGB7cn0NCg0KDQpmY29sbmV0ID0gZnVuY3Rpb24oZGF0YSA9IHNjaG9sYXJzLCB1bml2ZXJzaXR5ID0gYygiUlUiLCAiVlUiLCJVVSIsICJVdlQiLCAiUlVHIiwgIkVVUiIsICJVdkEiKSwgZGlzY2lwbGluZSA9ICJTb2Npb2xvZ2llIiwgd2F2ZXMgPSBsaXN0KGMoMjAxNSwNCiAgICAyMDE4KSwgYygyMDE5LCAyMDIzKSwgYygyMDI0LCAyMDI1KSksIHR5cGUgPSBjKCJmaXJzdCIpKSB7DQoNCiAgICB1bml2ZXJzaXR5ID0gcGFzdGUwKCcoJywgcGFzdGUwKHVuaXZlcnNpdHksIGNvbGxhcHNlPSd8JyApLCAnKScpDQogICAgZGlzY2lwbGluZSA9IHBhc3RlMCgnKCcsIHBhc3RlMChkaXNjaXBsaW5lLCBjb2xsYXBzZT0nfCcgKSwgJyknKQ0KDQogICAgIyBzdGVwIDENCiAgICBkZW1vZ3JhcGhpY3MgPSBkYXRhJGRlbW9ncmFwaGljcw0KICAgIHNhbXBsZSA9IHdoaWNoKA0KICAgICAgICAoc3RyX2RldGVjdChkZW1vZ3JhcGhpY3MkdW5pdmVyc2l0ZWl0LjIyLCB1bml2ZXJzaXR5KQ0KICAgICAgICAgICAgfCBzdHJfZGV0ZWN0KGRlbW9ncmFwaGljcyR1bml2ZXJzaXRlaXQuMjQsIHVuaXZlcnNpdHkpDQogICAgICAgICAgICB8IHN0cl9kZXRlY3QoZGVtb2dyYXBoaWNzJHVuaXZlcnNpdGVpdC4yNSwgdW5pdmVyc2l0eSkNCiAgICAgICAgKSAmICgNCiAgICAgICAgICAgIHN0cl9kZXRlY3QoZGVtb2dyYXBoaWNzJGRpc2NpcGxpbmUuMjIsIGRpc2NpcGxpbmUpDQogICAgICAgICAgICB8IHN0cl9kZXRlY3QoZGVtb2dyYXBoaWNzJGRpc2NpcGxpbmUuMjQsIGRpc2NpcGxpbmUpDQogICAgICAgICAgICB8IHN0cl9kZXRlY3QoZGVtb2dyYXBoaWNzJGRpc2NpcGxpbmUuMjUsIGRpc2NpcGxpbmUpDQogICAgICAgICkgfD4gcmVwbGFjZV9uYShGQUxTRSkpDQoNCiAgICBkZW1vZ3JhcGhpY3Nfc29jID0gZGVtb2dyYXBoaWNzW3NhbXBsZSwgXSB8PiBkcm9wX25hKGlkKQ0KDQogICAgIyBzdGVwIDINCiAgICBpZHMgPSBkZW1vZ3JhcGhpY3Nfc29jJGlkIHw+IHVuaXF1ZSgpDQoNCg0KICAgIHNjaG9sYXJzX3NlbCA9IGxpc3QoKSANCiAgICBmb3IgKGlkXyBpbiBpZHMpew0KICAgICAgICBzY2hvbGFyc19zZWxbW2lkX11dID0gYmluZF9yb3dzKHNjaG9sYXJzJHdvcmtzKSB8Pg0KICAgICAgICAgICAgZmlsdGVyKGF1dGhvcl9pZCA9PSBpZF8pDQogICAgfQ0KICAgIHNjaG9sYXJzX3NlbCA9IGJpbmRfcm93cyhzY2hvbGFycyR3b3JrcykgDQogICAgDQoNCiAgICBud2F2ZXMgPSBsZW5ndGgod2F2ZXMpDQogICAgbmV0cyA9IGFycmF5KDAsIGRpbSA9IGMobndhdmVzLCBsZW5ndGgoaWRzKSwgbGVuZ3RoKGlkcykpLCBkaW1uYW1lcyA9IGxpc3Qod2F2ZSA9IDE6bndhdmVzLCBpZHMsDQogICAgICAgIGlkcykpDQogICAgZGltbmFtZXMobmV0cykNCg0KICAgICMgc3RlcCAzDQogICAgZGZfd29ya3MgPSB0aWJibGUoDQogICAgICAgICAgICB3b3Jrc19pZCA9IHNjaG9sYXJzX3NlbCRpZCwgDQogICAgICAgICAgICB3b3Jrc19hdXRob3IgPSBzY2hvbGFyc19zZWwkYXV0aG9yc2hpcHMsIA0KICAgICAgICAgICAgd29ya3NfeWVhciA9IHNjaG9sYXJzX3NlbCRwdWJsaWNhdGlvbl95ZWFyDQogICAgICAgICkNCg0KDQogICAgZGZfd29ya3MgPSBkZl93b3Jrc1shZHVwbGljYXRlZChkZl93b3JrcyksIF0NCg0KICAgICMgc3RlcCA0DQogICAgaWYgKHR5cGUgPT0gImZpcnN0Iikgew0KICAgICAgICBmb3IgKGogaW4gMTpsZW5ndGgod2F2ZXMpKSB7DQogICAgICAgICAgICBkZl93b3Jrc193ID0gZGZfd29ya3NbZGZfd29ya3Mkd29ya3NfeWVhciA+PSB3YXZlc1tbal1dWzFdICYgZGZfd29ya3Mkd29ya3NfeWVhciA8PSB3YXZlc1tbal1dWzJdLA0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIGZvciAoaSBpbiAxOm5yb3coZGZfd29ya3NfdykpIHsNCiAgICAgICAgICAgICAgICBlZ28gPSBkZl93b3Jrc193JHdvcmtzX2F1dGhvcltpXVtbMV1dJGlkWzFdDQogICAgICAgICAgICAgICAgYWx0ZXJzID0gZGZfd29ya3NfdyR3b3Jrc19hdXRob3JbaV1bWzFdXSRpZFstMV0NCiAgICAgICAgICAgICAgICBpZiAoc3VtKGlkcyAlaW4lIGVnbykgPiAwICYgc3VtKGlkcyAlaW4lIGFsdGVycykgPiAwKSB7DQogICAgICAgICAgICAgICAgICBuZXRzW2osIHdoaWNoKGlkcyAlaW4lIGVnbyksIHdoaWNoKGlkcyAlaW4lIGFsdGVycyldID0gMQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmICh0eXBlID09ICJsYXN0Iikgew0KICAgICAgICBmb3IgKGogaW4gMTpsZW5ndGgod2F2ZXMpKSB7DQogICAgICAgICAgICBkZl93b3Jrc193ID0gZGZfd29ya3NbZGZfd29ya3Mkd29ya3NfeWVhciA+PSB3YXZlc1tbal1dWzFdICYgZGZfd29ya3Mkd29ya3NfeWVhciA8PSB3YXZlc1tbal1dWzJdLA0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIGZvciAoaSBpbiAxOm5yb3coZGZfd29ya3NfdykpIHsNCiAgICAgICAgICAgICAgICBlZ28gPSByZXYoZGZfd29ya3NfdyR3b3Jrc19hdXRob3JbaV1bWzFdXSRpZFsxXSkNCiAgICAgICAgICAgICAgICBhbHRlcnMgPSByZXYoZGZfd29ya3NfdyR3b3Jrc19hdXRob3JbaV1bWzFdXSRpZFstMV0pDQogICAgICAgICAgICAgICAgaWYgKHN1bShpZHMgJWluJSBlZ28pID4gMCAmIHN1bShpZHMgJWluJSBhbHRlcnMpID4gMCkgew0KICAgICAgICAgICAgICAgICAgbmV0c1tqLCB3aGljaChpZHMgJWluJSBlZ28pLCB3aGljaChpZHMgJWluJSBhbHRlcnMpXSA9IDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKHR5cGUgPT0gImFsbCIpIHsNCiAgICAgICAgZm9yIChqIGluIDE6bGVuZ3RoKHdhdmVzKSkgew0KICAgICAgICAgICAgZGZfd29ya3NfdyA9IGRmX3dvcmtzW2RmX3dvcmtzJHdvcmtzX3llYXIgPj0gd2F2ZXNbW2pdXVsxXSAmIGRmX3dvcmtzJHdvcmtzX3llYXIgPD0gd2F2ZXNbW2pdXVsyXSwNCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICBmb3IgKGkgaW4gMTpucm93KGRmX3dvcmtzX3cpKSB7DQogICAgICAgICAgICAgICAgZWdvcyA9IGRmX3dvcmtzX3ckd29ya3NfYXV0aG9yW2ldW1sxXV0kaWQNCiAgICAgICAgICAgICAgICBpZiAoc3VtKGlkcyAlaW4lIGVnb3MpID4gMCkgew0KICAgICAgICAgICAgICAgICAgbmV0c1tqLCB3aGljaChpZHMgJWluJSBlZ29zKSwgd2hpY2goaWRzICVpbiUgZWdvcyldID0gMQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRpYWcobmV0c1tqLCxdKSA9IDANCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIG91dHB1dCA9IGxpc3QoKQ0KICAgIG91dHB1dCRkYXRhID0gZGVtb2dyYXBoaWNzX3NvYw0KICAgIG91dHB1dCRuZXRzID0gbmV0cw0KICAgIHJldHVybihvdXRwdXQpDQp9DQpgYGANCg0KIyMgTG9hZGluZyBkYXRhDQpgYGB7cn0NCnBhY2thZ2VzID0gYygNCiAgICAiUlNpZW5hIiwgInRpZHl2ZXJzZSIsImRldnRvb2xzIiwNCiAgICAiZHBseXIiLCAic3RyaW5nciIsICJSc2llbmFUd29TdGVwIg0KKQ0KDQpsaWJyYXJ5KGlncmFwaCkNCmxpYnJhcnkoZHBseXIpDQoNCg0KZnBhY2thZ2UuY2hlY2socGFja2FnZXMpDQpzY2hvbGFycyA9IGZsb2FkKCJDOi9Vc2Vycy9oYW5uZS9Eb3dubG9hZHMvMjAyNTEwMTdzY2hvbGFycy5SZGEiKQ0KYGBgDQoNCiMjIE5ldHdvcmsNCg0KYGBge3J9DQojIEJ1aWxkIHRoZSBuZXR3b3JrDQp0ZXN0IDwtIGZjb2xuZXQoZGF0YSA9IHNjaG9sYXJzLCANCiAgICAgICAgICAgICAgICB1bml2ZXJzaXR5ID0gYygiUlUiLCAnVXZBJywgIlJVRyIsIlVVIiksIA0KICAgICAgICAgICAgICAgIGRpc2NpcGxpbmUgPSBjKCJTb2Npb2xvZ2llIiwgIlBvbGl0aWNvbG9naWUiKSwgDQogICAgICAgICAgICAgICAgd2F2ZXMgPSBsaXN0KGMoMjAxNSwgMjAxOCksIGMoMjAxOSwgMjAyMyksIGMoMjAyNCwgMjAyNSkpLA0KICAgICAgICAgICAgICAgIHR5cGUgPSBjKCJhbGwiKSkNCg0KIyAtLS0gUHJlcGFyZSBlZ28tbGV2ZWwgZGF0YSBmb3IgbGF0ZXIgdXNlIC0tLQ0KZGZfZWdvIDwtIHRlc3QkZGF0YQ0KDQojIEZpcnN0IHdhdmUNCnRlc3RfdzEgPC0gaWdyYXBoOjpncmFwaF9mcm9tX2FkamFjZW5jeV9tYXRyaXgoDQogIHRlc3QkbmV0c1sxLCxdLA0KICBtb2RlID0gInVuZGlyZWN0ZWQiLA0KICB3ZWlnaHRlZCA9IE5VTEwsDQogIGRpYWcgPSBGQUxTRSwNCiAgYWRkLmNvbG5hbWVzID0gTlVMTA0KKQ0KIyBTZWNvbmQgd2F2ZQ0KdGVzdF93MiA8LSBpZ3JhcGg6OmdyYXBoX2Zyb21fYWRqYWNlbmN5X21hdHJpeCgNCiAgdGVzdCRuZXRzWzIsLF0sDQogIG1vZGUgPSAidW5kaXJlY3RlZCIsDQogIHdlaWdodGVkID0gTlVMTCwNCiAgZGlhZyA9IEZBTFNFLA0KICBhZGQuY29sbmFtZXMgPSBOVUxMDQopDQoNCiMgdGhyaXJkIHdhdmUNCnRlc3RfdzMgPC0gaWdyYXBoOjpncmFwaF9mcm9tX2FkamFjZW5jeV9tYXRyaXgoDQogIHRlc3QkbmV0c1szLCxdLA0KICBtb2RlID0gInVuZGlyZWN0ZWQiLA0KICB3ZWlnaHRlZCA9IE5VTEwsDQogIGRpYWcgPSBGQUxTRSwNCiAgYWRkLmNvbG5hbWVzID0gTlVMTA0KKQ0KYGBgDQoNCmBgYHtyfQ0KIyBNYWtlIGl0IGFuIGFycmF5DQoNCm5ldHNfY29ycmVjdCA8LSBhcGVybSh0ZXN0JG5ldHMsIGMoMiwgMywgMSkpDQoNCmRpbShuZXRzX2NvcnJlY3QpDQoNCm5ldF9zaWVuYSA8LSBzaWVuYURlcGVuZGVudChuZXRzX2NvcnJlY3QpDQpgYGANCg0KIyMgQ29uc3RydWN0aW5nIEluZGVwZW5kZW50IHZhcmFpYmxlIGludGVyZGlzY2lwbGluYXJpdHkNCg0KYGBge3J9DQojIC0tLS0tLS0tLS0gQmVyZWtlbiBjcm9zcy1kZXBhcnRtZW50IHZhcmlhYmVsZSB2b29yIGFsbGUgd2F2ZXMgLS0tLS0tLS0tLQ0KDQojIFZlcmVpc3Q6IG5ldHNfY29ycmVjdCAoYXJyYXkgdmFuIGRpbSBbYWN0b3JzIHggYWN0b3JzIHggd2F2ZXNdKQ0KIyAgICAgICAgICAgZGZfZWdvIG1ldCBrb2xvbSBkaXNjaXBsaW5lLjIyDQoNCiMgMS4gRGlzY2lwbGluZXZlY3RvciB2b29yYmVyZWlkZW4NCmRlcHRfbnVtIDwtIGFzLm51bWVyaWMoYXMuZmFjdG9yKGRmX2VnbyRkaXNjaXBsaW5lLjIyKSkNCmRlcHRfbnVtW2lzLm5hKGRlcHRfbnVtKV0gPC0gOTkgICMgdmVydmFuZyBtaXNzZW5kZSB3YWFyZGVuIGRvb3IgbmV1dHJhbGUgY29kZQ0KDQojIDIuIEZ1bmN0aWUgb20gY3Jvc3Mtc2NvcmUgcGVyIHdhdmUgdGUgYmVyZWtlbmVuDQpnZXRfY3Jvc3Nfc2NvcmUgPC0gZnVuY3Rpb24od2F2ZV9tYXRyaXgsIGRlcHRfbnVtKSB7DQogICMgVmVyc2NoaWxtYXRyaXg6IFRSVUUgYWxzIGFsdGVyIGFuZGVyZSBkaXNjaXBsaW5lIGhlZWZ0DQogIGRpZmZfZGVwdF9tYXRyaXggPC0gb3V0ZXIoZGVwdF9udW0sIGRlcHRfbnVtLCBGVU4gPSBmdW5jdGlvbihpLCBqKSBpICE9IGopDQogIA0KICAjIEFhbnRhbCBjcm9zcy1kZXBhcnRtZW50IHRpZXMgcGVyIGVnbw0KICBjcm9zc19vdXRfY291bnRzIDwtIHJvd1N1bXMod2F2ZV9tYXRyaXggKiBkaWZmX2RlcHRfbWF0cml4LCBuYS5ybSA9IFRSVUUpDQogIA0KICAjIFRvdGFsZSBvdXRkZWdyZWUgcGVyIGVnbw0KICBlZ29fb3V0ZGVnIDwtIHJvd1N1bXMod2F2ZV9tYXRyaXgsIG5hLnJtID0gVFJVRSkNCiAgDQogICMgUHJvcG9ydGllIGNyb3NzLWRlcGFydG1lbnQgcmVsYXRpZXMNCiAgY3Jvc3NfcHJvcCA8LSBpZmVsc2UoZWdvX291dGRlZyA+IDAsIGNyb3NzX291dF9jb3VudHMgLyBlZ29fb3V0ZGVnLCAwKQ0KICANCiAgIyBJbmRpcmVjdGUgYmxvb3RzdGVsbGluZyAoYWx0ZXIgaGVlZnQgY3Jvc3NfcHJvcCA+IDApDQogIGluZGlyZWN0X2ZsYWcgPC0gcmVwKDAsIGxlbmd0aChjcm9zc19wcm9wKSkNCiAgZm9yIChpIGluIHNlcV9hbG9uZyhjcm9zc19wcm9wKSkgew0KICAgIGFsdGVycyA8LSB3aGljaCh3YXZlX21hdHJpeFtpLCBdICE9IDApDQogICAgaWYgKGxlbmd0aChhbHRlcnMpID4gMCkgew0KICAgICAgaWYgKGNyb3NzX3Byb3BbaV0gPT0gMCAmJiBhbnkoY3Jvc3NfcHJvcFthbHRlcnNdID4gMCkpIHsNCiAgICAgICAgaW5kaXJlY3RfZmxhZ1tpXSA8LSAxDQogICAgICB9DQogICAgfQ0KICB9DQogIA0KICAjIENhdGVnb3Jpc2VlciBzY29yZQ0KICBjcm9zc19zY29yZSA8LSBkcGx5cjo6Y2FzZV93aGVuKA0KICAgIGNyb3NzX3Byb3AgPT0gMCAmIGluZGlyZWN0X2ZsYWcgPT0gMCB+IDAsDQogICAgY3Jvc3NfcHJvcCA9PSAwICYgaW5kaXJlY3RfZmxhZyA9PSAxIH4gMSwNCiAgICBjcm9zc19wcm9wID4gMCAmIGNyb3NzX3Byb3AgPD0gMC4yNSB+IDIsDQogICAgY3Jvc3NfcHJvcCA+IDAuMjUgJiBjcm9zc19wcm9wIDw9IDAuNSB+IDMsDQogICAgY3Jvc3NfcHJvcCA+IDAuNSB+IDQNCiAgKQ0KICANCiAgcmV0dXJuKGNyb3NzX3Njb3JlKQ0KfQ0KDQojIDMuIFRvZXBhc3NlbiBvcCBhbGxlIHdhdmVzDQpud2F2ZXMgPC0gZGltKG5ldHNfY29ycmVjdClbM10NCg0KY3Jvc3Nfc2NvcmVzIDwtIHNhcHBseSgxOm53YXZlcywgZnVuY3Rpb24odykgew0KICBnZXRfY3Jvc3Nfc2NvcmUobmV0c19jb3JyZWN0Wywsd10sIGRlcHRfbnVtKQ0KfSkNCg0KIyA0LiBSU2llbmEgdmFyQ292YXItb2JqZWN0IGFhbm1ha2VuDQpjcm9zc19jb3YgPC0gdmFyQ292YXIoY3Jvc3Nfc2NvcmVzKQ0KDQoNCg0KYGBgDQoNCiMjIENvbnN0cnVjdGluZyBJbmRlcGVuZGVudCB2YXJhaWJsZSBkZXBhcnRtZW50DQoNCmBgYHtyfQ0KZGVtb2dyYXBoaWNzX3NvYyA8LSB0ZXN0JGRhdGENCg0KIyBSZXBsYWNlIGVtcHR5IC8gbWlzc2luZyB3aXRoIE5BDQpkZW1vZ3JhcGhpY3Nfc29jJGRpc2NpcGxpbmUuMjJbZGVtb2dyYXBoaWNzX3NvYyRkaXNjaXBsaW5lLjIyID09ICJtaXNzaW5nIl0gPC0gTkENCg0KIyBLZWVwIG9ubHkgdGhlIHR3byByZWFsIGRlcGFydG1lbnRzDQpkZXB0X2ZhY3RvciA8LSBmYWN0b3IoZGVtb2dyYXBoaWNzX3NvYyRkaXNjaXBsaW5lLjIyLA0KICAgICAgICAgICAgICAgICAgICAgIGxldmVscyA9IGMoIlBvbGl0aWNvbG9naWUiLCAiU29jaW9sb2dpZSIpKQ0KDQojIENvbnZlcnQgdG8gbnVtZXJpYyBmb3IgUlNpZW5hDQpkZXB0X251bSA8LSBhcy5udW1lcmljKGRlcHRfZmFjdG9yKQ0KDQojIENyZWF0ZSBhIGNvdmFyaWF0ZSBvYmplY3QgKFJTaWVuYSBpZ25vcmVzIE5BcyBhdXRvbWF0aWNhbGx5KQ0KZGVwdF9jb3YgPC0gY29Db3ZhcihkZXB0X251bSkNCg0KDQpgYGANCg0KDQoNCiMgIGByIGNvbG9yaXplKCIqKkRlc2NyaXB0aXZlcyBpbiBSKioiLCAib3JhbmdlIilgDQoNCiMjIFVuaXZlcnNpdGllcyANCg0KYGBge3IsIGVjaG89RkFMU0V9DQp0YWJsZShkZl9lZ28kdW5pdmVyc2l0ZWl0LjIyKQ0KDQpgYGANCg0KYGBge3IsIGVjaG89RkFMU0V9DQp0YWJsZShkZl9lZ28kdW5pdmVyc2l0ZWl0LjIyW2RmX2VnbyR1bml2ZXJzaXRlaXQuMjIgJWluJSBjKCJSVSIsICJVdkEiLCAiUlVHIiwgIlVVIildKQ0KYGBgDQoNCmBgYHtyLCBlY2hvPUZBTFNFfQ0KdGFibGUoZGZfZWdvJHVuaXZlcnNpdGVpdC4yNFtkZl9lZ28kdW5pdmVyc2l0ZWl0LjI0ICVpbiUgYygiUlUiLCAiVXZBIiwgIlJVRyIsICJVVSIpXSkNCmBgYA0KDQpgYGB7ciwgZWNobz1GQUxTRX0NCnRhYmxlKGRmX2VnbyR1bml2ZXJzaXRlaXQuMjVbZGZfZWdvJHVuaXZlcnNpdGVpdC4yNSAlaW4lIGMoIlJVIiwgIlV2QSIsICJSVUciLCAiVVUiKV0pDQpgYGANCg0KDQojIyBEaXN0cmlidXRpb24gaW50ZXJkaXNjaXBsaW5hcml0eSB3YXZlIDEsIDIsIDMNCmBgYHtyLCBlY2hvPUZBTFNFfQ0KdGFibGUoY3Jvc3Nfc2NvcmVzWywxXSkgICMgdmVyZGVsaW5nIHdhdmUgMQ0KYGBgDQpgYGB7ciwgZWNobz1GQUxTRX0NCmJhcnBsb3QodGFibGUoY3Jvc3Nfc2NvcmVzWywxXSksIG1haW4gPSAiRGlzdHJpYnV0aW9uIG9mIEludGVyZGlzY2lwbGluYXJ5IFNjb3JlIiwgeGxhYiA9ICJTY29yZSIsIHlsYWIgPSAiRnJlcXVlbmN5IikNCmBgYA0KDQpgYGB7ciwgZWNobz1GQUxTRX0NCnRhYmxlKGNyb3NzX3Njb3Jlc1ssMl0pICAjIHZlcmRlbGluZyB3YXZlIDINCmBgYA0KDQpgYGB7ciwgZWNobz1GQUxTRX0NCmJhcnBsb3QodGFibGUoY3Jvc3Nfc2NvcmVzWywyXSksIG1haW4gPSAiRGlzdHJpYnV0aW9uIG9mIEludGVyZGlzY2lwbGluYXJ5IFNjb3JlIiwgeGxhYiA9ICJTY29yZSIsIHlsYWIgPSAiRnJlcXVlbmN5IikNCmBgYA0KDQpgYGB7ciwgZWNobz1GQUxTRX0NCnRhYmxlKGNyb3NzX3Njb3Jlc1ssM10pICAjIHZlcmRlbGluZyB3YXZlIDMNCmBgYA0KDQpgYGB7ciwgZWNobz1GQUxTRX0NCmJhcnBsb3QodGFibGUoY3Jvc3Nfc2NvcmVzWywzXSksIG1haW4gPSAiRGlzdHJpYnV0aW9uIG9mIEludGVyZGlzY2lwbGluYXJ5IFNjb3JlIiwgeGxhYiA9ICJTY29yZSIsIHlsYWIgPSAiRnJlcXVlbmN5IikNCmBgYA0KDQojIyBEaXN0cmlidXRpb24gZGVwYXJ0bWVudCB3YXZlIDENCmBgYHtyLCBlY2hvPUZBTFNFfQ0KdGFibGUoZGVwdF9jb3YpDQpgYGANCg0KYGBge3IsIGVjaG89RkFMU0V9DQpiYXJwbG90KHRhYmxlKGRlcHRfY292KSwgbWFpbiA9ICJEaXN0cmlidXRpb24gb2YgRGVwYXJ0bWVudCAoUG9saXRpY2FsIHNjaWVuY2UgPSAxIGFuZCBzb2Npb2xvZ3kgPSAgMiIsIHhsYWIgPSAiU2NvcmUiLCB5bGFiID0gIkZyZXF1ZW5jeSIpDQpgYGANCg0KDQojIGByIGNvbG9yaXplKCIqKlJlZmVyZW5jZXMuKioiLCAib3JhbmdlIilgDQoNCkdyYW5vdmV0dGVyLCBNLiBTLiAoMTk3MykuICpUaGUgU3RyZW5ndGggb2YgV2VhayBUaWVzLiogKkFtZXJpY2FuIEpvdXJuYWwgb2YgU29jaW9sb2d5LCA3OCooNiksIDEzNjDigJMxMzgwLiBbaHR0cDovL3d3dy5qc3Rvci5vcmcvc3RhYmxlLzI3NzYzOTJdKGh0dHA6Ly93d3cuanN0b3Iub3JnL3N0YWJsZS8yNzc2MzkyKQ0KDQoNCg0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("project2.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
